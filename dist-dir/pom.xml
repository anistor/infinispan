<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2011 Red Hat, Inc. and/or its affiliates.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation; either version 2.1 of
  ~ the License, or (at your option) any later version.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this library; if not, write to the Free Software
  ~ Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
  ~ 02110-1301 USA
  -->
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>org.jboss.datagrid</groupId>
    <artifactId>jboss-datagrid-parent</artifactId>
    <version>6.0.0.Alpha1-SNAPSHOT</version>
    <relativePath>../pom.xml</relativePath>
  </parent>

  <artifactId>jboss-datagrid-dist-dir</artifactId>

  <name>JBoss Enterprise Data Grid - Distribution (Directory)</name>
  <description>JBoss Enterprise Data Grid - Distribution (Directory)</description>

  <packaging>pom</packaging>

  <dependencies>
    <dependency>
      <groupId>org.jboss.as</groupId>
      <artifactId>jboss-as-build</artifactId>
      <version>${version.org.jboss.as}</version>
      <type>pom</type>
    </dependency>
    
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>jboss-datagrid-integration</artifactId>
      <version>${project.version}</version>
    </dependency>

    <!--
      Infinispan uses more recent version of JBoss Marshalling
      Once AS 7 upgrades to the latest version, we can safely remove
      this dependency and src/main/resources/modules/org/jboss/marshalling
    -->
    <dependency>
      <groupId>org.jboss.marshalling</groupId>
      <artifactId>jboss-marshalling</artifactId>
      <version>${version.org.jboss.marshalling}</version>
    </dependency>
    <dependency>
      <groupId>org.jboss.marshalling</groupId>
      <artifactId>jboss-marshalling-river</artifactId>
      <version>${version.org.jboss.marshalling}</version>
    </dependency>

    <dependency>
      <groupId>org.infinispan</groupId>
      <artifactId>infinispan-core</artifactId>
      <version>${version.org.infinispan}</version>
      <exclusions>
	<exclusion>
	  <groupId>org.rhq.helpers</groupId>
	  <artifactId>rhq-pluginAnnotations</artifactId>
	</exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>org.infinispan</groupId>
      <artifactId>infinispan-server-core</artifactId>
      <version>${version.org.infinispan}</version>
      <exclusions>
	<exclusion>
	  <groupId>org.rhq.helpers</groupId>
	  <artifactId>rhq-pluginAnnotations</artifactId>
	</exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>org.infinispan</groupId>
      <artifactId>infinispan-server-hotrod</artifactId>
      <version>${version.org.infinispan}</version>
      <exclusions>
	<exclusion>
	  <groupId>org.rhq.helpers</groupId>
	  <artifactId>rhq-pluginAnnotations</artifactId>
	</exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>org.infinispan</groupId>
      <artifactId>infinispan-server-memcached</artifactId>
      <version>${version.org.infinispan}</version>
      <exclusions>
	<exclusion>
	  <groupId>org.rhq.helpers</groupId>
	  <artifactId>rhq-pluginAnnotations</artifactId>
	</exclusion>
      </exclusions>
    </dependency>
    
    <dependency>
      <groupId>org.codehaus.jackson</groupId>
      <artifactId>jackson-core-asl</artifactId>
      <version>${version.org.codehaus.jackson}</version>
    </dependency>
    <dependency>
      <groupId>org.codehaus.jackson</groupId>
      <artifactId>jackson-mapper-asl</artifactId>
      <version>${version.org.codehaus.jackson}</version>
    </dependency>
    <dependency>
      <groupId>com.thoughtworks.xstream</groupId>
      <artifactId>xstream</artifactId>
      <version>${version.com.thoughtworks.xstream}</version>
    </dependency>
    
    <dependency>
      <groupId>org.scala-lang</groupId>
      <artifactId>scala-library</artifactId>
      <version>${version.org.scala-lang}</version>
    </dependency>
    
    
  </dependencies>

  <build>
    <plugins>
      <plugin>
	<artifactId>maven-antrun-plugin</artifactId>
        <executions>
	  <execution>
	    <id>build-dist-dir</id>
	    <goals>
	      <goal>run</goal>
	    </goals>
	    <phase>package</phase>
	    <configuration>
	      <target>
		<ant antfile="build.xml"  inheritRefs="true">
		  <target name="all"/>
		</ant>
	      </target>
	    </configuration>
	  </execution>
	</executions>
	<dependencies>
	  <dependency>
	    <groupId>org.jboss</groupId>
	    <artifactId>jandex</artifactId>
	    <version>${version.org.jboss.jandex}</version>
	  </dependency>
	</dependencies>
      </plugin>
    </plugins>
  </build>
</project>
